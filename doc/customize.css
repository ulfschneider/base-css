:root {
    --mrt-h2: var(--space-4);
    --mrt-h3: var(--space-3);
    --fs-h1: var(--fs-5);
    --fs-h2: var(--fs-4);
    --fs-h2: var(--fs-3);
    --bleed-percent: 162%;
}

.anchor {
    font-size: var(--fs);
    color: var(--neutral);
    text-decoration: none;
    font-weight: normal;
}

.table-of-contents li::before {
    content: var(--h-counter);
    font-weight: normal;
    font-size: inherit;
}

.table-of-contents li a {
    text-decoration: none;
}

pre[class^=language] {
    margin-bottom: var(--space-3);
}

@media (--rg) {
    main>.bleed {
        width: min(100vw - 2rem, var(--large-width), 162%);
        margin-left: max(50% - 50vw + 1rem, 50% - var(--large-width) / 2 + 1rem, 50% - var(--bleed-percent) / 2 + 1rem);
    }
    main>.bleed-right,
    main>pre,
    main>figure,
    h1.title {
        width: unset;
        margin-right: max(50% - 50vw + 1rem, 50% - var(--large-width) / 2 + 1rem);
    }
    main>.bleed-left {
        width: unset;
        margin-left: max(50% - 50vw + 1rem, 50% - var(--large-width) / 2 + 1rem);
    }
    main>[class^="bleed"]>img {
        width: 100%;
    }
}

@media(--lg) {
    .table-of-contents {
        position: fixed;
        left: var(--space);
        top: var(--space-1);
        width: var(--space-5);
        font-size: var(--fs-d1);
    }
}