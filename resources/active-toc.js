function activeToc(e){document.querySelector&&window.IntersectionObserver&&("string"==typeof e&&(e=document.querySelector("#"==e.charAt(0)?e:"#"+e)),this.handleObserver=(e,t)=>{e.forEach(e=>{let t=`#${e.target.getAttribute("id")}`,i=this.links.find(e=>e.getAttribute("href")===t);e.isIntersecting?(i.classList.add("is-visible"),this.previousSection=e.target.getAttribute("id")):i.classList.remove("is-visible"),this.highlightActive()})},this.highlightActive=()=>{let t=!1;if(this.links.forEach(e=>{e.classList.remove("is-active"),e.classList.contains("is-visible")&&(t=!0)}),!t)for(let t=this.headings.length-1;t>0;t--)if(this.headings[t]&&this.headings[t].offsetTop<=window.pageYOffset){e.querySelector(`a[href="#${this.headings[t].id}"]`).classList.add("is-active");break}},this.intersectionOptions={rootMargin:"0px"},this.links=[...e.querySelectorAll("a")],this.headings=this.links.map(e=>{let t=e.getAttribute("href");return document.querySelector(t)}),this.observer=new IntersectionObserver(this.handleObserver,this.intersectionOptions),this.headings.forEach(e=>{e&&this.observer.observe(e)}))}
